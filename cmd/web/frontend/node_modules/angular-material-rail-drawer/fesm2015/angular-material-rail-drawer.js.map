{"version":3,"file":"angular-material-rail-drawer.js","sources":["ng://angular-material-rail-drawer/lib/default.config.ts","ng://angular-material-rail-drawer/lib/animations.settings.ts","ng://angular-material-rail-drawer/lib/drawer-rail.directive.ts","ng://angular-material-rail-drawer/lib/drawer-rail.module.ts","ng://angular-material-rail-drawer/public-api.ts","ng://angular-material-rail-drawer/angular-material-rail-drawer.ts"],"sourcesContent":["export const miniConfig = {\r\n    defaultDuration: '100ms',\r\n    defaultMinWidth: '60px',\r\n    defaultMaxWidth: '200px',\r\n};\r\n","import { group, query, animateChild, animate, style, AnimationStyleMetadata, AnimationGroupMetadata } from '@angular/animations';\r\nimport { miniConfig } from './default.config';\r\n\r\nexport function sidebarClose(minWidth: string = miniConfig.defaultMinWidth): AnimationStyleMetadata {\r\n  return style({\r\n    width: minWidth,\r\n    visibility: 'visible',\r\n    transform: 'none',\r\n    overflow: 'hidden'\r\n  })\r\n}\r\n\r\n\r\n\r\nexport function sidebarOpen(maxWidth: string = miniConfig.defaultMaxWidth): AnimationStyleMetadata {\r\n  return style({\r\n    width: maxWidth,\r\n    visibility: 'visible',\r\n  })\r\n}\r\n\r\n\r\nexport function sidebarAnimationOpenGroup(\r\n  animationDuration: string = miniConfig.defaultDuration,\r\n  maxWidth: string = miniConfig.defaultMaxWidth\r\n\r\n): AnimationGroupMetadata {\r\n  return group([\r\n    query('@iconAnimation', animateChild(), { optional: true }),\r\n    query('@labelAnimation', animateChild(), { optional: true }),\r\n    animate(`${animationDuration} ease-in-out`, sidebarOpen(maxWidth))\r\n  ])\r\n}\r\n\r\nexport function sidebarAnimationCloseGroup(\r\n  animationDuration: string = miniConfig.defaultDuration,\r\n  minWidth: string = miniConfig.defaultMinWidth\r\n\r\n): AnimationGroupMetadata {\r\n  return group([\r\n    query('@iconAnimation', animateChild(), { optional: true }),\r\n    query('@labelAnimation', animateChild(), { optional: true }),\r\n    animate(`${animationDuration} ease-in-out`, sidebarClose(minWidth))\r\n  ])\r\n}","import { forwardRef, Inject, Directive, ElementRef, OnInit, OnDestroy, Host, Self, Optional, Renderer2, Input, AfterViewInit } from '@angular/core';\nimport { AnimationMetadata, AnimationBuilder } from '@angular/animations';\n\nimport { MatSidenav, MatDrawer, MatSidenavContainer, MatDrawerContainer } from '@angular/material/sidenav';\n\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { miniConfig } from './default.config';\nimport { sidebarAnimationCloseGroup, sidebarAnimationOpenGroup  } from './animations.settings';\nimport {Directionality} from '@angular/cdk/bidi';\nimport { inject } from '@angular/core/testing';\n\n@Directive({\n  // tslint:disable-next-line: directive-selector\n  selector: 'mat-sidenav[mode=\"rail\"], mat-drawer[mode=\"rail\"]',\n  // tslint:disable-next-line: no-host-metadata-property\n  host: {\n    '[class.mat-drawer-side]': 'true',\n  }\n})\nexport class MatDrawerRailDirective implements OnInit, OnDestroy, AfterViewInit {\n\n  public onDestory: Subject<void> = new Subject();\n\n  private drawer: MatSidenav | MatDrawer;\n  private container: MatSidenavContainer | MatDrawerContainer;\n\n  private containerContent: HTMLElement;\n\n  @Input()\n  public openAnimation: AnimationMetadata | AnimationMetadata[];\n\n  @Input()\n  public closeAnimation: AnimationMetadata | AnimationMetadata[];\n\n  @Input()\n  public closeWidth: string = miniConfig.defaultMinWidth;\n\n  @Input()\n  public expandedWidth: string = miniConfig.defaultMaxWidth;\n\n  constructor(\n    private builder: AnimationBuilder,\n    private el: ElementRef<HTMLElement>,\n    private renderer2: Renderer2,\n    @Host() @Self() @Optional() sidenav: MatSidenav,\n    @Host() @Self() @Optional() drawer: MatDrawer,\n    @Inject(forwardRef(() => MatSidenavContainer)) @Optional() matSideNavContainer: MatSidenavContainer,\n    @Inject(forwardRef(() => MatDrawerContainer)) @Optional() matDrawerContainer: MatDrawerContainer,\n    // tslint:disable-next-line: variable-name\n    @Optional() private _dir: Directionality,\n  ) {\n    this.container = matSideNavContainer || matDrawerContainer;\n    this.drawer = sidenav || drawer;\n    this.container.hasBackdrop = false;\n    this.drawer.autoFocus = false;\n  }\n\n  public ngOnInit(): void {\n    this.closeAnimation = this.closeAnimation || sidebarAnimationCloseGroup(miniConfig.defaultDuration, this.closeWidth);\n    this.openAnimation = this.openAnimation || sidebarAnimationOpenGroup(miniConfig.defaultDuration, this.expandedWidth);\n    this.renderer2.setStyle(this.el.nativeElement.querySelector('.mat-drawer-inner-container'), 'overflow', 'hidden');\n    this.drawer.closedStart.pipe(takeUntil(this.onDestory)).subscribe(() => {\n      this.closeMenu();\n    });\n\n    this.drawer._closedStream.pipe(takeUntil(this.onDestory)).subscribe(() => {\n      this.renderer2.setStyle(this.el.nativeElement, 'visibility', 'visible');\n    });\n\n    this.drawer.openedStart.pipe(takeUntil(this.onDestory)).subscribe(() => {\n      this.correctContentMargin( this.expandedWidth);\n      const factory = this.builder.build(this.openAnimation);\n      const player = factory.create(this.el.nativeElement);\n      player.play();\n    });\n  }\n\n  ngAfterViewInit() {\n    if (this.drawer.opened) {\n      this.correctContentMargin(this.expandedWidth);\n    } else {\n      this.renderer2.setStyle(this.el.nativeElement, 'visibility', 'visible');\n      this.closeMenu();\n    }\n  }\n\n  private closeMenu() {\n    this.correctContentMargin(this.closeWidth);\n    const factory = this.builder.build(this.closeAnimation);\n    const player = factory.create(this.el.nativeElement);\n    player.play();\n  }\n\n  private correctContentMargin(width: string) {\n    this.containerContent = this.containerContent ? this.containerContent : this.el.nativeElement.parentElement.querySelector('.mat-drawer-content');\n    if ((this.drawer.position !== 'end' && this._dir && this._dir.value !== 'rtl')\n        || (this.drawer.position === 'end' && this._dir && this._dir.value === 'rtl')) {\n      this.renderer2.setStyle(this.containerContent, 'marginLeft',  width);\n    } else {\n      this.renderer2.setStyle(this.containerContent, 'marginRight',  width);\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.onDestory.next();\n    this.onDestory.complete();\n  }\n}\n","import {NgModule} from '@angular/core';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatDrawerRailDirective } from './drawer-rail.directive';\r\n\r\n@NgModule({\r\n  imports:[MatSidenavModule],\r\n  declarations: [MatDrawerRailDirective],\r\n  exports: [MatDrawerRailDirective],\r\n})\r\nexport class DrawerRailModule {}","/*\n * Public API Surface of angular-material-rail-drawer\n */\n\nexport * from './lib/drawer-rail.module';\nexport * from './lib/default.config';\nexport * from './lib/animations.settings';\nexport * from './lib/drawer-rail.directive';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;;;;;;MAAa,UAAU,GAAG;IACtB,eAAe,EAAE,OAAO;IACxB,eAAe,EAAE,MAAM;IACvB,eAAe,EAAE,OAAO;;;SCAZ,YAAY,CAAC,WAAmB,UAAU,CAAC,eAAe;IACxE,OAAO,KAAK,CAAC;QACX,KAAK,EAAE,QAAQ;QACf,UAAU,EAAE,SAAS;QACrB,SAAS,EAAE,MAAM;QACjB,QAAQ,EAAE,QAAQ;KACnB,CAAC,CAAA;AACJ,CAAC;SAIe,WAAW,CAAC,WAAmB,UAAU,CAAC,eAAe;IACvE,OAAO,KAAK,CAAC;QACX,KAAK,EAAE,QAAQ;QACf,UAAU,EAAE,SAAS;KACtB,CAAC,CAAA;AACJ,CAAC;SAGe,yBAAyB,CACvC,oBAA4B,UAAU,CAAC,eAAe,EACtD,WAAmB,UAAU,CAAC,eAAe;IAG7C,OAAO,KAAK,CAAC;QACX,KAAK,CAAC,gBAAgB,EAAE,YAAY,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;QAC3D,KAAK,CAAC,iBAAiB,EAAE,YAAY,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;QAC5D,OAAO,CAAC,GAAG,iBAAiB,cAAc,EAAE,WAAW,CAAC,QAAQ,CAAC,CAAC;KACnE,CAAC,CAAA;AACJ,CAAC;SAEe,0BAA0B,CACxC,oBAA4B,UAAU,CAAC,eAAe,EACtD,WAAmB,UAAU,CAAC,eAAe;IAG7C,OAAO,KAAK,CAAC;QACX,KAAK,CAAC,gBAAgB,EAAE,YAAY,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;QAC3D,KAAK,CAAC,iBAAiB,EAAE,YAAY,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;QAC5D,OAAO,CAAC,GAAG,iBAAiB,cAAc,EAAE,YAAY,CAAC,QAAQ,CAAC,CAAC;KACpE,CAAC,CAAA;AACJ;;ICvBa,sBAAsB,GAAnC,MAAa,sBAAsB;IAqBjC,YACU,OAAyB,EACzB,EAA2B,EAC3B,SAAoB,EACA,OAAmB,EACnB,MAAiB,EACc,mBAAwC,EACzC,kBAAsC;;IAE5E,IAAoB;QARhC,YAAO,GAAP,OAAO,CAAkB;QACzB,OAAE,GAAF,EAAE,CAAyB;QAC3B,cAAS,GAAT,SAAS,CAAW;QAMR,SAAI,GAAJ,IAAI,CAAgB;QA5BnC,cAAS,GAAkB,IAAI,OAAO,EAAE,CAAC;QAczC,eAAU,GAAW,UAAU,CAAC,eAAe,CAAC;QAGhD,kBAAa,GAAW,UAAU,CAAC,eAAe,CAAC;QAaxD,IAAI,CAAC,SAAS,GAAG,mBAAmB,IAAI,kBAAkB,CAAC;QAC3D,IAAI,CAAC,MAAM,GAAG,OAAO,IAAI,MAAM,CAAC;QAChC,IAAI,CAAC,SAAS,CAAC,WAAW,GAAG,KAAK,CAAC;QACnC,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,KAAK,CAAC;KAC/B;IAEM,QAAQ;QACb,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,IAAI,0BAA0B,CAAC,UAAU,CAAC,eAAe,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACrH,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,IAAI,yBAAyB,CAAC,UAAU,CAAC,eAAe,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QACrH,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,aAAa,CAAC,6BAA6B,CAAC,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;QAClH,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;YAChE,IAAI,CAAC,SAAS,EAAE,CAAC;SAClB,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;YAClE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC;SACzE,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;YAChE,IAAI,CAAC,oBAAoB,CAAE,IAAI,CAAC,aAAa,CAAC,CAAC;YAC/C,MAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YACvD,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC;YACrD,MAAM,CAAC,IAAI,EAAE,CAAC;SACf,CAAC,CAAC;KACJ;IAED,eAAe;QACb,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;YACtB,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SAC/C;aAAM;YACL,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC;YACxE,IAAI,CAAC,SAAS,EAAE,CAAC;SAClB;KACF;IAEO,SAAS;QACf,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC3C,MAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACxD,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC;QACrD,MAAM,CAAC,IAAI,EAAE,CAAC;KACf;IAEO,oBAAoB,CAAC,KAAa;QACxC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,aAAa,CAAC,aAAa,CAAC,qBAAqB,CAAC,CAAC;QACjJ,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,KAAK,KAAK,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,KAAK,KAAK;gBACrE,IAAI,CAAC,MAAM,CAAC,QAAQ,KAAK,KAAK,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,EAAE;YACjF,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,EAAE,YAAY,EAAG,KAAK,CAAC,CAAC;SACtE;aAAM;YACL,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,EAAE,aAAa,EAAG,KAAK,CAAC,CAAC;SACvE;KACF;IAEM,WAAW;QAChB,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;QACtB,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;KAC3B;EACF;;YAlEoB,gBAAgB;YACrB,UAAU;YACH,SAAS;YACS,UAAU,uBAA9C,IAAI,YAAI,IAAI,YAAI,QAAQ;YACW,SAAS,uBAA5C,IAAI,YAAI,IAAI,YAAI,QAAQ;YACuD,mBAAmB,uBAAlG,MAAM,SAAC,UAAU,CAAC,MAAM,mBAAmB,CAAC,cAAG,QAAQ;YACsB,kBAAkB,uBAA/F,MAAM,SAAC,UAAU,CAAC,MAAM,kBAAkB,CAAC,cAAG,QAAQ;YAE7B,cAAc,uBAAvC,QAAQ;;AApBX;IADC,KAAK,EAAE;6DACsD;AAG9D;IADC,KAAK,EAAE;8DACuD;AAG/D;IADC,KAAK,EAAE;0DAC+C;AAGvD;IADC,KAAK,EAAE;6DACkD;AAnB/C,sBAAsB;IARlC,SAAS,CAAC;;QAET,QAAQ,EAAE,mDAAmD;;QAE7D,IAAI,EAAE;YACJ,yBAAyB,EAAE,MAAM;SAClC;KACF,CAAC;IA0BG,WAAA,IAAI,EAAE,CAAA,EAAE,WAAA,IAAI,EAAE,CAAA,EAAE,WAAA,QAAQ,EAAE,CAAA;IAC1B,WAAA,IAAI,EAAE,CAAA,EAAE,WAAA,IAAI,EAAE,CAAA,EAAE,WAAA,QAAQ,EAAE,CAAA;IAC1B,WAAA,MAAM,CAAC,UAAU,CAAC,MAAM,mBAAmB,CAAC,CAAC,CAAA,EAAE,WAAA,QAAQ,EAAE,CAAA;IACzD,WAAA,MAAM,CAAC,UAAU,CAAC,MAAM,kBAAkB,CAAC,CAAC,CAAA,EAAE,WAAA,QAAQ,EAAE,CAAA;IAExD,WAAA,QAAQ,EAAE,CAAA;GA9BF,sBAAsB,CAwFlC;;ICpGY,gBAAgB,GAA7B,MAAa,gBAAgB;EAAG;AAAnB,gBAAgB;IAL5B,QAAQ,CAAC;QACR,OAAO,EAAC,CAAC,gBAAgB,CAAC;QAC1B,YAAY,EAAE,CAAC,sBAAsB,CAAC;QACtC,OAAO,EAAE,CAAC,sBAAsB,CAAC;KAClC,CAAC;GACW,gBAAgB,CAAG;;ACThC;;;;ACAA;;;;;;"}