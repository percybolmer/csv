{"version":3,"file":"angular-material-rail-drawer.js","sources":["ng:/angular-material-rail-drawer/lib/default.config.ts","ng:/angular-material-rail-drawer/lib/animations.settings.ts","ng:/angular-material-rail-drawer/lib/drawer-rail.directive.ts","ng:/angular-material-rail-drawer/lib/drawer-rail.module.ts","ng:/angular-material-rail-drawer/public-api.ts","ng:/angular-material-rail-drawer/angular-material-rail-drawer.ts"],"names":[],"mappings":"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","sourcesContent":["export const miniConfig = {\r\n    defaultDuration: '100ms',\r\n    defaultMinWidth: '60px',\r\n    defaultMaxWidth: '200px',\r\n};\r\n","import { group, query, animateChild, animate, style, AnimationStyleMetadata, AnimationGroupMetadata } from '@angular/animations';\r\nimport { miniConfig } from './default.config';\r\n\r\nexport function sidebarClose(minWidth: string = miniConfig.defaultMinWidth): AnimationStyleMetadata {\r\n  return style({\r\n    width: minWidth,\r\n    visibility: 'visible',\r\n    transform: 'none',\r\n    overflow: 'hidden'\r\n  })\r\n}\r\n\r\n\r\n\r\nexport function sidebarOpen(maxWidth: string = miniConfig.defaultMaxWidth): AnimationStyleMetadata {\r\n  return style({\r\n    width: maxWidth,\r\n    visibility: 'visible',\r\n  })\r\n}\r\n\r\n\r\nexport function sidebarAnimationOpenGroup(\r\n  animationDuration: string = miniConfig.defaultDuration,\r\n  maxWidth: string = miniConfig.defaultMaxWidth\r\n\r\n): AnimationGroupMetadata {\r\n  return group([\r\n    query('@iconAnimation', animateChild(), { optional: true }),\r\n    query('@labelAnimation', animateChild(), { optional: true }),\r\n    animate(`${animationDuration} ease-in-out`, sidebarOpen(maxWidth))\r\n  ])\r\n}\r\n\r\nexport function sidebarAnimationCloseGroup(\r\n  animationDuration: string = miniConfig.defaultDuration,\r\n  minWidth: string = miniConfig.defaultMinWidth\r\n\r\n): AnimationGroupMetadata {\r\n  return group([\r\n    query('@iconAnimation', animateChild(), { optional: true }),\r\n    query('@labelAnimation', animateChild(), { optional: true }),\r\n    animate(`${animationDuration} ease-in-out`, sidebarClose(minWidth))\r\n  ])\r\n}","import { forwardRef, Inject, Directive, ElementRef, OnInit, OnDestroy, Host, Self, Optional, Renderer2, Input, AfterViewInit } from '@angular/core';\nimport { AnimationMetadata, AnimationBuilder } from '@angular/animations';\n\nimport { MatSidenav, MatDrawer, MatSidenavContainer, MatDrawerContainer } from '@angular/material/sidenav';\n\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { miniConfig } from './default.config';\nimport { sidebarAnimationCloseGroup, sidebarAnimationOpenGroup  } from './animations.settings';\nimport {Directionality} from '@angular/cdk/bidi';\nimport { inject } from '@angular/core/testing';\n\n@Directive({\n  // tslint:disable-next-line: directive-selector\n  selector: 'mat-sidenav[mode=\"rail\"], mat-drawer[mode=\"rail\"]',\n  // tslint:disable-next-line: no-host-metadata-property\n  host: {\n    '[class.mat-drawer-side]': 'true',\n  }\n})\nexport class MatDrawerRailDirective implements OnInit, OnDestroy, AfterViewInit {\n\n  public onDestory: Subject<void> = new Subject();\n\n  private drawer: MatSidenav | MatDrawer;\n  private container: MatSidenavContainer | MatDrawerContainer;\n\n  private containerContent: HTMLElement;\n\n  @Input()\n  public openAnimation: AnimationMetadata | AnimationMetadata[];\n\n  @Input()\n  public closeAnimation: AnimationMetadata | AnimationMetadata[];\n\n  @Input()\n  public closeWidth: string = miniConfig.defaultMinWidth;\n\n  @Input()\n  public expandedWidth: string = miniConfig.defaultMaxWidth;\n\n  constructor(\n    private builder: AnimationBuilder,\n    private el: ElementRef<HTMLElement>,\n    private renderer2: Renderer2,\n    @Host() @Self() @Optional() sidenav: MatSidenav,\n    @Host() @Self() @Optional() drawer: MatDrawer,\n    @Inject(forwardRef(() => MatSidenavContainer)) @Optional() matSideNavContainer: MatSidenavContainer,\n    @Inject(forwardRef(() => MatDrawerContainer)) @Optional() matDrawerContainer: MatDrawerContainer,\n    // tslint:disable-next-line: variable-name\n    @Optional() private _dir: Directionality,\n  ) {\n    this.container = matSideNavContainer || matDrawerContainer;\n    this.drawer = sidenav || drawer;\n    this.container.hasBackdrop = false;\n    this.drawer.autoFocus = false;\n  }\n\n  public ngOnInit(): void {\n    this.closeAnimation = this.closeAnimation || sidebarAnimationCloseGroup(miniConfig.defaultDuration, this.closeWidth);\n    this.openAnimation = this.openAnimation || sidebarAnimationOpenGroup(miniConfig.defaultDuration, this.expandedWidth);\n    this.renderer2.setStyle(this.el.nativeElement.querySelector('.mat-drawer-inner-container'), 'overflow', 'hidden');\n    this.drawer.closedStart.pipe(takeUntil(this.onDestory)).subscribe(() => {\n      this.closeMenu();\n    });\n\n    this.drawer._closedStream.pipe(takeUntil(this.onDestory)).subscribe(() => {\n      this.renderer2.setStyle(this.el.nativeElement, 'visibility', 'visible');\n    });\n\n    this.drawer.openedStart.pipe(takeUntil(this.onDestory)).subscribe(() => {\n      this.correctContentMargin( this.expandedWidth);\n      const factory = this.builder.build(this.openAnimation);\n      const player = factory.create(this.el.nativeElement);\n      player.play();\n    });\n  }\n\n  ngAfterViewInit() {\n    if (this.drawer.opened) {\n      this.correctContentMargin(this.expandedWidth);\n    } else {\n      this.renderer2.setStyle(this.el.nativeElement, 'visibility', 'visible');\n      this.closeMenu();\n    }\n  }\n\n  private closeMenu() {\n    this.correctContentMargin(this.closeWidth);\n    const factory = this.builder.build(this.closeAnimation);\n    const player = factory.create(this.el.nativeElement);\n    player.play();\n  }\n\n  private correctContentMargin(width: string) {\n    this.containerContent = this.containerContent ? this.containerContent : this.el.nativeElement.parentElement.querySelector('.mat-drawer-content');\n    if ((this.drawer.position !== 'end' && this._dir && this._dir.value !== 'rtl')\n        || (this.drawer.position === 'end' && this._dir && this._dir.value === 'rtl')) {\n      this.renderer2.setStyle(this.containerContent, 'marginLeft',  width);\n    } else {\n      this.renderer2.setStyle(this.containerContent, 'marginRight',  width);\n    }\n  }\n\n  public ngOnDestroy(): void {\n    this.onDestory.next();\n    this.onDestory.complete();\n  }\n}\n","import {NgModule} from '@angular/core';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatDrawerRailDirective } from './drawer-rail.directive';\r\n\r\n@NgModule({\r\n  imports:[MatSidenavModule],\r\n  declarations: [MatDrawerRailDirective],\r\n  exports: [MatDrawerRailDirective],\r\n})\r\nexport class DrawerRailModule {}","/*\n * Public API Surface of angular-material-rail-drawer\n */\n\nexport * from './lib/drawer-rail.module';\nexport * from './lib/default.config';\nexport * from './lib/animations.settings';\nexport * from './lib/drawer-rail.directive';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]}